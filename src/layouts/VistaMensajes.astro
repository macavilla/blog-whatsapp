---
import VistaRaiz from './VistaRaiz.astro';

import { Image } from 'astro:assets';
import fondoChat from '../assets/fondoChat.webp';

---

<!-- --ACS-- -->
<VistaRaiz>
  <div class="vista-mensajes">
    <section class="maqueta-nombre">
      <slot name="maquetaNombre" />
    </section>
    
    <main class="maqueta-mensajes">
      <Image 
        src={fondoChat} 
        alt="Textura fondo mensajes" 
        format="webp" 
        widths={[320, 640, 1280, 1920]} 
        sizes="100vw" 
        class="maqueta-fondo-mensajes"
      />
      
      <div class="maqueta-contenido-mensajes">
        <slot name="maquetaMensajes" />
      </div>
    </main>
    
    <section class="maqueta-inputs">
      <slot name="maquetaInputs" />
    </section>
  </div>
</VistaRaiz>

<!-- --CCS-- -->
<style>
  .vista-mensajes {
    height: 100vh;
    height: 100svh;
    display: flex;
    flex-direction: column;
  }

  .maqueta-nombre {
    height: 54px;
    padding-top: 4px;
    background-color: var(--cl-gris-fondo-display);
  }

  .maqueta-mensajes {
    flex: 1;
    width: 100%;
    height: calc(100vh - 104px);
    height: calc(100svh - 104px);
    position: relative;
  }

  .maqueta-fondo-mensajes {
    width: 100%;
    height: 100%;
    overflow: hidden;
    object-fit: cover;
    position: absolute;
    top: 0;
    z-index: -3;
  }

  .maqueta-contenido-mensajes {
    width: 100%;
    height: 100%;
    overflow-y: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .maqueta-contenido-mensajes::-webkit-scrollbar {
    display: none;
  }

  .maqueta-inputs {
    height: 50px;
    background-color: var(--cl-gris-fondo-display);
    border-top: 1px solid var(--cl-negro);
  }
</style>
